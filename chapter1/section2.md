# emacs

命名惯例,

C 表示按下Ctrl键, M 表示按下Alt键

M-x my-command 表示同时按下Alt和X, 输入"my-command",然后回车

所有插件都可通过包管理器下载.

以下是清单：

名称    说明    同类插件

－－－－－－－－－－－－－－－－－－－－－－－－－－－－－－－－－－－－

Evil    将 Emacs变为Vim    没有

Org    org-mode,全能的笔记工具    没有

company-mode    自动完成输入,支持各种语言和后端    auto-complete

expand-region    快捷键选中文本,可将选择区域伸缩    没有

smex    让输入命令变得飞快    没有

yasnippet    强大的文本模板输入工具    没有

flymake    对不同语言做语法检查    flycheck

ivy or helm    自动完成,在其上有插件完成具体功能    ido

ido    和helm类似,helm和ido可同时用    helm

js2-mode    javascript的主模式,自带语法解释器    js-mode

w3m    网络浏览器\(需安装命令行工具w3m\)    Eww

simple-httpd    Lisp 写的 Web 服务器    elnode

window-numbering.el    跳转到不同的子窗口    switch-window.el

web-mode    支持各种 HTML 文件    nxml-mode

magit    玩转git    没有

git-gutter.el    标记版本控制的diff\(支持subversion\)    没有

－－－－－－－－－－－－－－－－－－－－－－－－－－－－－－－－－－－－

Emacs中的光标移动

Eamcs中移动光标，和Windows操作系统中的绝大多数文本编辑器类似，可以使用“方向键”、“PageUP/PageDown”等按键完成。但是作为在“终端”时代生存至今的Emacs，还提供了让双手不离开键盘区，就可以移动光标的方法，而且在有的时候，这些组合按键的效率更高。

Emacs移动光标的组合键不少，我用下面这张图来说明。按图索骥，已经覆盖了Emacs原生的光标移动方法。

需要说明的是：在Emacs文档中，“Meta”键对应的是Windows键盘中的“Alt”键。

![](/assets/import1.png)

图1：Emacs光标移动图

此外，Emacs移动到指定行的方法是：

M-g M-g：Emacs会要求输入行号，移动光标到指定行

Emacs中的删除

在Emacs删除文字有很多种方法。在说明相应的操作方法前，我们需要先弄明白几个概念：“删除（Delete）”、“移除（Kill）”、“召回（Yank）”还有“移除环（Kill-Ring）”

好吧，“删除”和“移除”在文本编辑的过程中实现的效果非常类似——对应的字符或内容在文档中“消失”了。存在细微差别的地方在与取回这些“消失”的内容的方法上：

被“删除”的内容，只能使用“撤销（Undo）”的办法来找回这些“消失的字符”。和大多数人预想的一样，这些“消失的字符”只会重新出现在原来它们所在的地方。关于Emacs的删除操作请看下图：

![](/assets/import2.png)

图2：Emacs的删除操作

Emacs的剪贴板以及Undo/Redo

被“移除”的内容，除了可以使用“撤销”的方法了找回内容以外，还可以使用“召回”的方法让这些“消失”的内容出现在当前光标之后。这样的操作效果和使用了“剪贴板”的效果类似了。

“召回”，是将移除的内容插入到光标所在位置的一种操作。使用召回操作，让人有一种使用“剪贴板”的感觉。不过Emacs会记录多次“移除”操作的内容，这一点可要比windows操作系统提供的“剪贴板”功能要强大多了。这种记录多次“移除”操作内容的机制在Emacs中叫做“移除环”——Yank Ring。

“移除环”是Emacs存储移除内容的一种机制，其中含有多次“移除”操作的内容。之所以称其为“环”是因为在Emacs中提供了在光标位置插入不同“移除内容”的方法。而访问“移除内容”时是按照“环”的方式循环访问的。关于Emacs的移除操作和召回操作请见下图：

![](/assets/import3.png)

图3：Emacs的移除和召回操作

如果输入时错误的使用了“撤销”命令，而需要“撤销前面的撤销”操作，Emacs提供了“重做（Redo）”的方法：随便移动一下光标，在使用“撤销”命令 即可。

Emacs中的查找和替换

任何编辑器都有查找和替换的功能，Emacs也不例外。在Emacs中最常用的查找方法是“增量查找”。除此之外，Emacs还提供了“正则查找”、“词组查找”、“简单查找”三种方法。这些查找方法，一般来说，熟练掌握其中的一至两类就足够应付日常使用的需要了。

“增量查找”是“边输入边查找”的查找方式。也是在Emacs中使用最为频繁的一种查找方式。“正则查找”则是输入一个正则表达式来进行查找的方式。“词组查找”意味着输入的是一个词组（在英文等语言环境下，词组是有意义的。在中文环境下，应用的就少一些了）。“简单查找”和“增量查找”对应，是在用户输入完所有待查内容后才启动查找的方法。

几类查找的操作方法见下图：

图4：Emacs的查找

图4：Emacs的查找

有查找就有替换。在Emacs中，替换一般需要通过调用命令的方式实现。Emacs中提供的替换方式包括“全文替换”、“正则替换”、“交互式替换”三种方式。

其中“全文替换”和“正则替换”是从光标位置向后替换文字。“交互式替换”是在替换的过程中有控制的确定是否执行替换操作。

按Meta-% 即可启动查找且替换模式。

Emacs中的文件操作

基础的Emacs文件操作是创建、保存、另存。

创建新文件：

使用组合键 Ctrl-x Ctrl-f 打开“find file”

在提示符处输入一个不存在的文件名

回车确认后，Emacs即创建了一个空的Buffer供输入使用。

保存文件

Emac的保存文件非常简单，只需要按下组合键Ctrl-x Ctrl-s即可。

另存文件

要另存一个文件，按下组合键Ctrl-x Ctrl-w，按提示输入新的文件名即可。

